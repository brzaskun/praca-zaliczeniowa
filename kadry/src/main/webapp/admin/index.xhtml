<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:bcf="http://brzaskun.com/facelets"
      >
    <h:body>
        <ui:composition template="../template.xhtml">

            <ui:define name="top" >
                <ui:include src="sub/layout/north.xhtml"/>
            </ui:define>

            <ui:define name="left">
                <ui:include src="sub/layout/west.xhtml"/>
            </ui:define>

            <ui:define name="content">
                <p:outputPanel>
                    <bcf:ajaxs/>
                    <h:form id="formmenu">
                        <p:menubar autoDisplay="true">
                            <p:menuitem icon="pi pi-sliders-h" value="parametry" style="width: 150px" action="Parametry"/>
                            <p:menuitem icon="pi pi-mobile" value="firmy" style="width: 150px" action="Firma"/>
<!--                            <p:menuitem icon="pi pi-cloud-download" value="historia" style="width: 150px" action="Historia"/>-->
                            <p:menuitem icon="pi pi-calendar-plus" value="kalendarze" style="width: 150px" action="KalendarzeGlobalne"/>
                            <p:submenu icon="pi pi-users" label="pracownicy" style="width: 150px">
                                <p:menuitem icon="pi pi-ellipsis-v" value="lista wszystkich prac." style="width: 150px" action="Pracownikwykaz"/>
                                <p:menuitem icon="pi pi-ellipsis-v" value="angaże w firmie bież." style="width: 150px" action="Pracownik"/>
                                <p:menuitem icon="pi pi-ellipsis-v" value="dane pracowników" style="width: 150px" action="Pracownikdane"/><p:menuitem icon="pi pi-ellipsis-v" value="staż pracowników" style="width: 150px" action="Pracownikhistoria"/><p:menuitem icon="pi pi-ellipsis-v" value="grupy do list płac" style="width: 150px" action="Pracownikgrupy"/>
                                <p:menuitem icon="pi pi-ellipsis-v" value="alerty - pracownicy" style="width: 150px" action="Pracownikalerty"/><p:menuitem icon="pi pi-ellipsis-v" value="aneksy do umów" style="width: 150px" action="Pracownikaneksy"/><p:menuitem icon="pi pi-ellipsis-v" value="lista aktywnych umów" style="width: 150px" action="Pracownikumowy"/><p:menuitem icon="pi pi-ellipsis-v" value="dni urlopów zatrud." style="width: 150px" action="Pracownikurlopy"/>
                            </p:submenu>
                            <p:menuitem icon="pi pi-file" value="umowy" style="width: 150px" action="Umowa"/>
                            <p:submenu label="czas pracy" style="width: 150px">
                                <p:menuitem icon="pi pi-user-minus" value="nieobecności" style="width: 150px" onclick="PF('dialogpracownikanieobecnosci').show()" async="true"/>
                                <p:menuitem icon="pi pi-user-minus" value="nieobecności zbiorcze" style="width: 150px" onclick="PF('dialogpracownikanieobecnoscizbiorcze').show()" async="true"/>
                                <p:menuitem icon="pi pi-cloud" value="urlop/choroba/ekwiw." style="width: 150px" onclick="PF('dialgoczaspracyurlop').show()" async="true"/>
                                <p:menuitem icon="pi pi-sitemap" value="zbiorcze rach. do zlec." style="width: 150px" onclick="PF('dialogzbiorczerachunekzlecenia').show()" async="true"/>
                                <p:menuitem icon="pi pi-money-bill" value="wprowadz. zmiennych" style="width: 150px" onclick="PF('dialogbiorczezmienne').show()" async="true"/>
                                <p:menuitem icon="pi pi-th-large" value="wprowadz. składników" style="width: 150px" onclick="PF('dialogbiorczeskladniki').show()" async="true"/>
                                <p:menuitem icon="pi pi-sliders-h" value="nadgodziny niemcy" style="width: 150px" onclick="PF('dialognadgodzinyniemcy').show()" async="true"/>
                                <p:menuitem icon="pi pi-file-excel" value="wystaw. rach. do zlec." style="width: 150px" onclick="PF('dialograchunekzlecenia').show()" async="true"/>
                                <p:menuitem icon="pi pi-calendar" value="kalendarz pracownika" style="width: 150px" onclick="PF('dialogkalendarzmiesiac').show()" async="true"/>
                                <!--                                <p:menuitem icon="pi pi-calendar" value="paski oddelegowanie" style="width: 150px" onclick="PF('dialogpaskioddeleowanie').show()" async="true"/>-->
                                <p:menuitem icon="pi pi-calendar" value="oddelegowanie" style="width: 150px" onclick="PF('dialogoddelegowanie').show()" async="true"/>
                                <p:menuitem icon="pi pi-calendar-minus" value="dane do Z3" style="width: 150px" onclick="PF('dialogdanez3').show()" async="true"/>
                            </p:submenu>
                            <p:submenu label="listy płac" style="width: 150px">
                                <p:menuitem icon="pi pi-bars" value="lista rach. um. zleceń" style="width: 150px" onclick="PF('dialoglistarachunekzlecenia').show()" async="true"/>
                                <p:menuitem icon="pi pi-ellipsis-v" value="definicja listy" style="width: 150px" onclick="PF('dialoglistadefinicja').show()" async="true"/>
                                <p:menuitem icon="pi pi-money-bill" value="lista płac" style="width: 150px" onclick="PF('dialoglistaplac').show()" async="true"/>
                                <p:menuitem icon="pi pi-book" value="niemcy - korekta listy" style="width: 150px" onclick="PF('dialoglistaplackorekta').show()" async="true"/>
                                <p:menuitem icon="pi pi-eye" value="lista płac analiza" style="width: 150px" onclick="PF('dialoglistaplacanaliza').show()" async="true"/>
                                <p:menuitem icon="pi pi-table" value="karta wynagrodzeń" style="width: 150px" onclick="PF('dialogkartawynagrodzen').show()" async="true"/>
                                <p:menuitem icon="pi pi-globe" value="komornik" style="width: 150px" onclick="PF('dialogkomornik').show()" async="true"/>
                                <p:menuitem icon="pi pi-users" value="DRA" style="width: 150px" onclick="PF('dialogdra').show()" async="true"/>
                            </p:submenu>
                            <p:menuitem icon="pi pi-file-pdf" value="PIT11" style="width: 150px" action="Pit"/>
                            <p:menuitem icon="pi pi-file-excel" value="PIT4" style="width: 150px" action="Pit4"/>
                            <p:submenu icon="pi pi-print" label="wydruki" style="width: 150px"><p:menuitem icon="pi pi-ellipsis-v" value="zaświadczenia" style="width: 150px" action="wydruki"/>
                                <p:menuitem icon="pi pi-ellipsis-v" value="pfron/soka/urlopy" style="width: 150px" action="wskazniki"/></p:submenu><p:menuitem icon="pi pi-chart-bar" value="statystyka" style="width: 150px" action="Statystyka"/><p:menuitem icon="pi pi-chart-bar" value="info" style="width: 150px" action="Info"/>


                        </p:menubar>
                    </h:form>
                </p:outputPanel>
                <p:outputPanel style="padding: 30px;">
                    <p:fragment>
                        <p:autoUpdate/> 
                        <p:panelGrid columns="2">
                            <h:outputText value="#{wpisView.pracownik.nazwiskoImie}" style="color: green;"/>
                            <h:outputText value="#{wpisView.pracownik.pesel}" style="color: green;"/>
                            <h:outputText value="adres zamieszkania: "/>
                            <h:outputText value="#{wpisView.pracownik.adres}"/>
                        </p:panelGrid>
                        <p:panelGrid columns="2" style="margin-top: 20px;">
                            <h:outputText value="data zatrudnienia: "/>
                            <h:outputText value="#{wpisView.pracownik.datazatrudnienia}"/>
                            <h:outputText value="data zwolnienia: "/>
                            <h:outputText value="#{wpisView.pracownik.datazwolnienia}" rendered="#{wpisView.pracownik.datazwolnienia ne null and wpisView.pracownik.datazwolnienia.length() gt 1}"/>
                            <h:outputText value="do nadal" rendered="#{wpisView.pracownik.datazwolnienia eq null or wpisView.pracownik.datazwolnienia.length() eq 0}"/>
                            <h:outputText value="rodzaj umowy: "/>
                            <h:outputText value="#{zaswiadczeniaView.rodzajumowy}"/>
                            <h:outputText value="okres na jaki zost. zawarta: "/>
                            <h:outputText value="#{zaswiadczeniaView.czastrwania}"/>
                            <h:outputText value="stanowisko: "/>
                            <h:outputText value="#{zaswiadczeniaView.stanowisko}"/>
                            <h:outputText value="etat: "/>
                            <h:outputText value="#{zaswiadczeniaView.etat}"/>
                        </p:panelGrid>
                        <p:panel header="Wykaz składników wynagrodzenia" style="margin-top: 20px;width: 700px;">
                        <p:dataTable id="datalist" value="#{skladnikWynagrodzeniaView.lista}" var="itemskladnikwyn"
                                     selectionMode="single" selection="#{skladnikWynagrodzeniaView.selectedlista}"
                                     rowKey="#{itemskladnikwyn.id}" emptyMessage="Brak ustalonych skłądników wynagrodzenia"
                                     style="height: 200px; overflow-y: scroll; width: 700px;"
                                     >
                            <p:column width="170">
                                <f:facet name="header">
                                    <h:outputText value="nazwa"/>
                                </f:facet>
                                <h:outputText value="#{itemskladnikwyn.rodzajwynagrodzenia.opispelny}" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq false}"/>
                                <h:outputText value="#{itemskladnikwyn.rodzajwynagrodzenia.opispelny}" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true}" style="color: grey"/>
                            </p:column>
                            <p:column style="text-align: center;" width="40">
                                <f:facet name="header">
                                    <h:outputText value="godz./mies."/>
                                </f:facet>
                                <h:outputText value="godz." rendered="#{itemskladnikwyn.rodzajwynagrodzenia.godzinowe0miesieczne1 eq false}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'initial'};"/>
                                <h:outputText value="miesięczne" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.godzinowe0miesieczne1 eq true}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'initial'};"/>
                            </p:column>
                            <p:column style="text-align: center;" width="40">
                                <f:facet name="header">
                                    <h:outputText value="reduk. za czas nieob."/>
                                </f:facet>
                                <h:outputText value="tak" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.redukowany eq true}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'initial'};"/>
                            </p:column>
                            <p:column style="text-align: center;" width="30">
                                <f:facet name="header">
                                    <h:outputText value="kod"/>
                                </f:facet>
                                <h:outputText value="#{itemskladnikwyn.rodzajwynagrodzenia.kod}"/>
                            </p:column>
                            <p:column style="text-align: center;" width="40">
                                <f:facet name="header">
                                    <h:outputText value="stala0 zmienna1"/>
                                </f:facet>
                                <h:outputText value="zmienna" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.stale0zmienne1 eq true}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'initial'};"/>
                                <h:outputText value="stała" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.stale0zmienne1 eq false}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'initial'};"/>
                            </p:column>
                             <p:column style="text-align: center;" width="40">
                                <f:facet name="header">
                                    <h:outputText value="urlop kraj"/>
                                </f:facet>
                                 <h:outputText value="&#x2714;" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.sredniaurlopowakraj eq true}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'green'};"/>
                                
                            </p:column>
                             <p:column style="text-align: center;" width="40">
                                <f:facet name="header">
                                    <h:outputText value="urlop oddel."/>
                                </f:facet>
                                 <h:outputText value="&#x2714;" rendered="#{itemskladnikwyn.rodzajwynagrodzenia.sredniaurlopowaoddelegowanie eq true}"  style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'green'};"/>

                            </p:column>
                            <p:column style="text-align: center;" width="20">
                                <f:facet name="header">
                                    <h:outputText value="należ. za oddel."/>
                                </f:facet>
                                 <h:outputText value="&#x2714;" rendered="#{itemskladnikwyn.oddelegowanie eq true}" style="color: #{itemskladnikwyn.rodzajwynagrodzenia.tylkosuperplace eq true?'grey':'green'};"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                        <p:panel header="Lista nieobecności #{wpisView.pracownik.nazwiskoImie} - angaz od #{wpisView.angaz.rokMc}" style="width: 900px;">
                    <p:dataTable id="datalist22" value="#{nieobecnoscView.lista}" var="itemNieob" 
                                 selection="#{nieobecnoscView.selectedlista}" rowIndexVar="indexn" sortMode="multiple"
                                 rowKey="#{itemNieob.id}"  sortBy="#{itemNieob.dataod}"
                                 style="height: 450px; overflow-y: scroll;width: 900px;"
                                 emptyMessage="Nie wpisano żadnych nieobecności"
                                 >
                        <p:column width="50"  style="text-align: center;">
                            <f:facet name="header">
                                <h:outputText value="kod"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.rodzajnieobecnosci.kod}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column width="50"  style="text-align: center;">
                            <f:facet name="header">
                                <h:outputText value="ZUS"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.swiadczeniekodzus.kod}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column width="200" >
                            <f:facet name="header">
                                <h:outputText value="nazwa"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.rodzajnieobecnosci.opis}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column> 
                        <p:column width="50"  sortBy="#{itemNieob.dataod}" sortOrder="desc" sortPriority="1">
                            <f:facet name="header">
                                <h:outputText value="data od"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.dataod}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column width="50" >
                            <f:facet name="header">
                                <h:outputText value="data do"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.datado}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column style="text-align: center;" width="40">
                            <f:facet name="header">
                                <h:outputText value="dni kal."/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.dnikalendarzowe}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column style="text-align: center;" width="40">
                            <f:facet name="header">
                                <h:outputText value="dni rob."/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.dniroboczenieobecnosci}" style="color: #{nieobecnoscView.kolornieobecnosci(itemNieob)};"/>
                        </p:column>
                        <p:column style="text-align: center;" width="40">
                            <f:facet name="header">
                                <h:outputText value="nan. na kal."/>
                            </f:facet>
                            <h:outputText value="&#x2714;" rendered="#{itemNieob.naniesiona}" style="color: green;font-weight: 900;"/>
                        </p:column>
                        <p:column style="#{itemNieob.rokod eq wpisView.rokWpisu ? 'color: green':''}">
                            <f:facet name="header">
                                <h:outputText value="kraj"/>
                            </f:facet>
                            <h:outputText value="#{itemNieob.krajoddelegowania}"/>
                        </p:column>
                        <p:column width="30">
                            <f:facet name="header">
                                <h:outputText value="proc."/>
                            </f:facet>
                            <bcf:outputpl value="#{itemNieob.zwolnienieprocent}" rendered="#{itemNieob.zwolnienieprocent ne 0.0}"/>
                        </p:column>
                        <p:column style="text-align: center;" width="30">
                            <f:facet name="header">
                                <h:outputText value="zus"/>
                            </f:facet>
                            <h:outputText value="&#x2714;" rendered="#{itemNieob.swiadczeniekodzus.spoleczne}"/>
                        </p:column>
                    </p:dataTable>
                </p:panel>
                    </p:fragment>
                </p:outputPanel>
                <p:outputPanel style="padding: 30px;" rendered="#{wpisView.uzer.emailhaslo eq null}">
                    <h:outputText value="Brak hasła do konta email. Nie można wysyłac wydruków klientom" style="color: red;font-size: xx-large"/>
                </p:outputPanel>
                
                
                <ui:include src="sub/menu_wiad.xhtml"/>   <!-- menu contextowe i pole wiadomosci growl-->
                <ui:include src="sub/dialog/dialog_czaspracy_kalendarzmiesiac.xhtml"/>
                <ui:include src="sub/dialog/dialog_czaspracy_nieobecnosci.xhtml"/>
                <ui:include src="sub/dialog/dialog_czaspracy_nieobecnosci_zbiorcze.xhtml"/>
                <ui:include src="sub/dialog/dialog_czaspracy_urlop.xhtml"/>
                <ui:include src="sub/dialog/dialog_czaspracy_zagranica.xhtml"/>
                <ui:include src="sub/dialog/dialog_lista_definicja.xhtml"/>
                <ui:include src="sub/dialog/dialog_lista_plac.xhtml"/>
                <ui:include src="sub/dialog/dialog_lista_plac_korekta.xhtml"/>
                <ui:include src="sub/dialog/dialog_lista_plac_analiza.xhtml"/>
                <ui:include src="sub/dialog/dialog_dra.xhtml"/>
                <ui:include src="sub/dialog/dialog_karta_wynagrodzen.xhtml"/>
                <ui:include src="sub/dialog/dialog_lista_rachunek_zlecenia.xhtml"/>
                <ui:include src="sub/dialog/dialog_rachunek_zlecenia.xhtml"/>
                <ui:include src="sub/dialog/dialog_zbiorcze_rachunek_zlecenia.xhtml"/>
                <ui:include src="sub/dialog/dialog_zbiorcze_wprowadzaniezmiennych.xhtml"/>
                <ui:include src="sub/dialog/dialog_zbiorcze_zmienne.xhtml"/>
                <ui:include src="sub/dialog/dialog_zbiorcze_skladniki.xhtml"/>
                <ui:include src="sub/dialog/dialog_nadgodziny_niemcy.xhtml"/>
                <ui:include src="sub/dialog/dialog_komornik.xhtml"/>
                <ui:include src="sub/dialog/dialog_danez3.xhtml"/>
                <!--                <ui:include src="sub/dialog/dialog_paski_oddelegowanie.xhtml"/>-->
                <h:form>
<!--                         <p:commandButton value="rodzaj" styleClass="buttonnorm" actionListener="#{skladnikPotraceniaView.generujtabele()}" />-->
<!--                         <p:commandButton value="uzupelnij kalendarze" styleClass="buttonnorm" actionListener="#{kalendarzwzorView.uzupelnijkalendarze()}" />-->
<!--                         <p:commandButton value="prac zmiany" styleClass="buttonnorm" actionListener="#{pracownikView.korektadat()}" />-->
<!--                         <p:commandButton value="rodzaj" styleClass="buttonnorm" actionListener="#{rodzjawynagrodzeniaSetView.generujtabele()}" />-->
<!--                         <p:commandButton value="umowa" styleClass="buttonnorm" actionListener="#{umowaView.generujtabele()}" />-->
<!--                         <p:commandButton value="umowa" styleClass="buttonnorm" actionListener="#{swiadczeniekodzusView.generujtabele()}" />-->
<!--                         <p:commandButton value="rodzaj" styleClass="buttonnorm" actionListener="#{definicjalistaplacView.generujtabele()}" />-->
<!--                         <p:commandButton value="rob" styleClass="buttonnorm" actionListener="#{umowaView.rob()}" />-->
<!--                    <p:commandButton value="rob" styleClass="buttonnorm" actionListener="#{podatnikKsiegowaService.init()}" />-->
                </h:form>

            </ui:define>

        </ui:composition>
    </h:body>
</html>

