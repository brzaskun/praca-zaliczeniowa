
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//PL" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:bcf="http://brzaskun.com/facelets" xmlns:pe="http://primefaces.org/ui/extensions">
    <h:form id="podatnicy">
        <p:outputPanel style="padding: 10px;">
            <p:panel header="Statystyka księgowych" style="width:1200px;"/>
            <p:panelGrid layout="tabular" columns="6">
                <h:outputText value="Rok:" style="text-shadow: #6374AB 1px -1px 1px"/>
                <p:selectOneMenu id="rokWpisu" value="#{adminKsiegowanieView.rok}" style="width: 70px;">
                    <f:selectItems value="#{roki.rokiListString}" />
                    <p:ajax event="change" partialSubmit="true"/>
                </p:selectOneMenu>
                <p:selectOneMenu id="miesiacWpisu" value="#{adminKsiegowanieView.mc}" style="width: 70px;">
                    <f:selectItems value="#{mce.mceList}"/>
                    <p:ajax event="change" partialSubmit="true"/>
                </p:selectOneMenu>
                <p:column headerText="księgowa" rendered="#{adminKsiegowanieView.wybranaksiegowa}" >
                    <p:selectOneMenu value="#{item.ksiegowa}" style="width: 100px;" converter="#{uzConv}">
                        <f:selectItems value="#{adminKsiegowanieView.listaksiegowychwybor}" var="loop" itemLabel="#{loop.login}" itemValue="#{loop}"/>
                    </p:selectOneMenu>
                </p:column>
            </p:panelGrid>
            <p:commandButton value="pobierz" actionListener="#{adminKsiegowanieView.pobierz()}" update="@form" style="width: 120px;"/>
        </p:outputPanel>
        <p:dataTable value="#{adminKsiegowanieView.zestawienierekordow}" var="record" style="width: 100%;" rowKey="#{record.id}">

            <!-- id Column -->
            <p:column headerText="id">
                <h:outputText value="#{record.id}" />
            </p:column>

            <!-- podatnik Column (Display Name or Info) -->
            <p:column headerText="podatnik">
                <h:outputText value="#{record.podatnik.printnazwa}" /> <!-- Adjust based on `Podatnik` fields -->
            </p:column>

            <!-- zamkniecie Column -->
            <p:column headerText="zamkniecie">
                <h:outputText value="#{record.zamkniecie}">
                    <f:convertDateTime pattern="yyyy-MM-dd" />
                </h:outputText>
            </p:column>

            <!-- Day Columns -->
            <p:column headerText="1">
                <h:outputText value="#{record.day1}" />
            </p:column>
            <p:column headerText="2">
                <h:outputText value="#{record.day2}" />
            </p:column>
            <p:column headerText="3">
                <h:outputText value="#{record.day3}" />
            </p:column>
            <p:column headerText="4">
                <h:outputText value="#{record.day4}" />
            </p:column>
            <p:column headerText="5">
                <h:outputText value="#{record.day5}" />
            </p:column>
            <p:column headerText="6">
                <h:outputText value="#{record.day6}" />
            </p:column>
            <p:column headerText="7">
                <h:outputText value="#{record.day7}" />
            </p:column>
            <p:column headerText="8">
                <h:outputText value="#{record.day8}" />
            </p:column>
            <p:column headerText="9">
                <h:outputText value="#{record.day9}" />
            </p:column>
            <p:column headerText="10">
                <h:outputText value="#{record.day10}" />
            </p:column>
            <p:column headerText="11">
                <h:outputText value="#{record.day11}" />
            </p:column>
            <p:column headerText="12">
                <h:outputText value="#{record.day12}" />
            </p:column>
            <p:column headerText="13">
                <h:outputText value="#{record.day13}" />
            </p:column>
            <p:column headerText="14">
                <h:outputText value="#{record.day14}" />
            </p:column>
            <p:column headerText="15">
                <h:outputText value="#{record.day15}" />
            </p:column>
            <p:column headerText="16">
                <h:outputText value="#{record.day16}" />
            </p:column>
            <p:column headerText="17">
                <h:outputText value="#{record.day17}" />
            </p:column>
            <p:column headerText="18">
                <h:outputText value="#{record.day18}" />
            </p:column>
            <p:column headerText="19">
                <h:outputText value="#{record.day19}" />
            </p:column>
            <p:column headerText="20">
                <h:outputText value="#{record.day20}" />
            </p:column>
            <p:column headerText="21">
                <h:outputText value="#{record.day21}" />
            </p:column>
            <p:column headerText="22">
                <h:outputText value="#{record.day22}" />
            </p:column>
            <p:column headerText="23">
                <h:outputText value="#{record.day23}" />
            </p:column>
            <p:column headerText="24">
                <h:outputText value="#{record.day24}" />
            </p:column>
            <p:column headerText="25">
                <h:outputText value="#{record.day25}" />
            </p:column>
            <p:column headerText="26">
                <h:outputText value="#{record.day26}" />
            </p:column>
            <p:column headerText="27">
                <h:outputText value="#{record.day27}" />
            </p:column>
            <p:column headerText="28">
                <h:outputText value="#{record.day28}" />
            </p:column>
            <p:column headerText="29">
                <h:outputText value="#{record.day29}" />
            </p:column>
            <p:column headerText="30">
                <h:outputText value="#{record.day30}" />
            </p:column>
            <p:column headerText="31">
                <h:outputText value="#{record.day31}" />
            </p:column>

        </p:dataTable>


    </h:form>
</ui:composition>   
