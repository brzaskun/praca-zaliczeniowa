<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
    >
      <p:tab id="wzor" title="Wzór faktury">
          <h:form id="formwzor">
            <script type="text/javascript">
                function zachowaj(me) {
                    var p = $(document.getElementById(me.id));
                    var position = p.position();
                    var lewy = parseInt(position.left);
                    var gora = parseInt(position.top);
                    var wysokosc = parseInt($(document.getElementById(me.id)).height());
                    $("#formXY\\:co").val(me.id);
                    $("#formXY\\:lewy").val(lewy);
                    $("#formXY\\:gora").val(gora);
                    $("#formXY\\:zachowaj").click();
                }

                $(function() {
                    var lewy = $("#formXY\\:lewyTablica").val().split(",");
                    var gora = $("#formXY\\:goraTablica").val().split(",");
                    var co = $("#formXY\\:coTablica").val().split(",");
                    petlawywolujaca(lewy, gora, co);
                    var moduly = ['odbiorcan','nabywca','wystawca','data','fakturanumer','platnosc','datasprzedazy','towary','dozaplaty','podpis','przewłaszczenie','warunkidostawy','wezwaniedozapłaty','nrzamowienia','logo','poleUwagi','elementgraficzny'];
                    for(var modul in moduly){
                        var nazwa = moduly[modul];
                        var nazwaakordeon = "#akordeon\\:formwzor\\:"+nazwa;
                        $(nazwaakordeon).bind('mouseup', function(e) {
                            zachowaj(this);
                        });
                    };
                    ustawstopkaniemiecka();
                });
            </script>
              <p:outputPanel>
                  <h:outputText value="Rozmiar strony 595x842"/>
              </p:outputPanel>
              <p:outputPanel style="background-color: #6374AB; height: 842px; width: 595px;">
                  <p:panel id="nabywca" style="width: #{pozycjeNaFakturzeView.pW('nabywca')}px; height: #{pozycjeNaFakturzeView.pH('nabywca')}px;" >  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="Nabywca: " /><br/>
                        <h:outputText value="Marian Kowalski " /><br/>
                        <h:outputText value="Adres:" /> 
                        <h:outputText value="70-100 Szczecin ul. Zielona 15" />
                    </p:panelGrid>
                </p:panel>
                  <p:draggable for="nabywca" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="odbiorcan" style="width: #{pozycjeNaFakturzeView.pW('odbiorcan')}px; height: #{pozycjeNaFakturzeView.pH('odbiorcan')}px;"  rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('Dane Odbiorcy')}" >  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="OdbiorcaN: " /><br/>
                        <h:outputText value="Jan Kowalski " /><br/>
                        <h:outputText value="Adres:" /> 
                        <h:outputText value="70-100 Szczecin ul. Bananowa 15" />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="odbiorcan" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="wystawca" style="width: #{pozycjeNaFakturzeView.pW('wystawca')}px; height: #{pozycjeNaFakturzeView.pH('wystawca')}px;"  rendered="#{!fakturadodelementyView.czydodatkowyelementjestAktywny('stopka niemiecka')}" >  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="Wystawca: " /><br/>
                        <h:outputText value="Bober Mizialski"/><br/>
                        <h:outputText value="Adres:" />
                        <h:outputText value="70-100 Poznan ul. Bananowa 15" />
                    </p:panelGrid>
                </p:panel>
                <p:draggable for="wystawca" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="data" style="width: #{pozycjeNaFakturzeView.pW('data')}px; height: #{pozycjeNaFakturzeView.pH('data')}px;">  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="Data Szczecin, dnia 18.05.2013 " />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="data" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="fakturanumer" style="width: #{pozycjeNaFakturzeView.pW('fakturanumer')}px; height: #{pozycjeNaFakturzeView.pH('fakturanumer')}px;"  >  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="fakturanumer Faktura VAT nr 1/2003/WIZEX" style="font-size: larger;"/>
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="fakturanumer" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="platnosc" style="width: #{pozycjeNaFakturzeView.pW('platnosc')}px; height: #{pozycjeNaFakturzeView.pH('platnosc')}px;"  >  
                    <p:panelGrid layout="tabular" columns="4">
                        <h:outputText value="platnosc " /><h:outputText value="przelew" />
                    </p:panelGrid>
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="konto bankowe" /><h:outputText value="99 1524 1524 1158 1522 1211 1574" />
                    </p:panelGrid>
                </p:panel>  
                <p:draggable for="platnosc" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="datasprzedazy"  style="width: #{pozycjeNaFakturzeView.pW('datasprzedazy')}px; height: #{pozycjeNaFakturzeView.pH('datasprzedazy')}px;">  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="data sprzedaży 21-05-2013" />
                    </p:panelGrid>
                </p:panel>
                 <p:draggable for="datasprzedazy" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="nrzamowienia"  style="width: #{pozycjeNaFakturzeView.pW('nrzamowienia')}px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('nr zamówienia')}" >  
                    <p:panelGrid layout="tabular" columns="2">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('nr zamówienia')}"  />
                    </p:panelGrid>
                </p:panel>
                <p:draggable for="nrzamowienia" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                <p:panel id="towary" style="width: #{pozycjeNaFakturzeView.pW('towary')}px; height: #{pozycjeNaFakturzeView.pH('towary')}px;"  >  
                    <p:dataTable lazy="false"  value="#{pozycjeNaFakturzeView.zestaw}" var="wpis">
                        <p:column headerText="#{mgs.numerkolejny}" width="30"><h:outputText value="#{wpis.lp}"/></p:column>
                        <p:column headerText="Nazwa towaru/usługi" width="80"><h:outputText value="#{wpis.nazwa}"/></p:column>
                        <p:column headerText="j.m."><h:outputText value="#{wpis.jednostka}"/></p:column>
                        <p:column headerText="il."><h:outputText value="#{wpis.ilosc}"/></p:column>
                        <p:column headerText="Cena jedn. bez pod."><h:outputText value="#{wpis.cena}"/></p:column>
                        <p:column headerText="Podatek %"><h:outputText value="#{wpis.podatek}"/></p:column>
                        <p:column headerText="Podatek kwota"><h:outputText value="#{wpis.podatekkwota}"/></p:column>
                        <p:column headerText="Wartość z pod."><h:outputText value="#{wpis.brutto}"/></p:column>
                    </p:dataTable>
                    <p:draggable for="towary" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="dozaplaty" style="width: #{pozycjeNaFakturzeView.pW('dozaplaty')}px;"  >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="Do zapłaty: 12450,26zł" />
                        <h:outputText value="słownie do zapłaty: dwanaście tysięcy czterysta pięćdziesiąt sześć złotych dwadzieścia sześć groszy" />
                    </p:panelGrid>
                    <p:draggable for="dozaplaty" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="podpis" style="width: #{pozycjeNaFakturzeView.pW('podpis')}px;"  >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="______________________" />
                        <h:outputText value="PODPIS" />
                    </p:panelGrid>
                    <p:draggable for="podpis" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="przewłaszczenie" style="width: 450px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('przewłaszczenie')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('przewłaszczenie')}" />
                    </p:panelGrid>
                    <p:draggable for="przewłaszczenie" cursor="move" opacity="0.9" containment="parent" grid="4, 4" />
                </p:panel>
                <p:panel id="warunkidostawy" style="width: 700px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('warunki dostawy')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('warunki dostawy')}" />
                    </p:panelGrid>
                    <p:draggable for="warunkidostawy" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="poleUwagi" style="width: 400px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('pole Uwagi')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('pole Uwagi')}" />
                    </p:panelGrid>
                    <p:draggable for="poleUwagi" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="wezwaniedozapłaty" style="width: #{pozycjeNaFakturzeView.pW('wezwaniedozapłaty')}px; height: #{pozycjeNaFakturzeView.pH('wezwaniedozapłaty')}px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('wezwanie do zapłaty')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('wezwanie do zapłaty')}" />
                    </p:panelGrid>
                    <p:draggable for="wezwaniedozapłaty" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="logo" style="width: #{fakturadodelementyView.pozycjecss.get('logo')[0]}px; height: #{fakturadodelementyView.pozycjecss.get('logo')[1]}px;" 
                         rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('logo')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('logo')} rozmiary width: #{fakturadodelementyView.pozycjecss.get('logo')[0]} height: #{fakturadodelementyView.pozycjecss.get('logo')[1]}" />
                    </p:panelGrid>
                    <p:draggable for="logo" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                 <p:panel id="elementgraficzny" style="width: #{fakturadodelementyView.pozycjecss.get('element graficzny')[0]}px; height: #{fakturadodelementyView.pozycjecss.get('element graficzny')[1]}px;" 
                          rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('element graficzny')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('element graficzny')} rozmiary width: #{fakturadodelementyView.pozycjecss.get('element graficzny')[0]} 
                                      height: #{fakturadodelementyView.pozycjecss.get('element graficzny')[1]}" />
                    </p:panelGrid>
                    <p:draggable for="elementgraficzny" cursor="move" opacity="0.9" containment="parent" grid="4, 4"/>
                </p:panel>
                <p:panel id="stopkaniemiecka" style="width: 1150px; height: 150px;color: gray; background-color: gray; margin-top: 300px;" rendered="#{fakturadodelementyView.czydodatkowyelementjestAktywny('stopka niemiecka')}" >  
                    <p:panelGrid layout="tabular" columns="1">
                        <h:outputText value="#{fakturadodelementyView.pobierzelementdodatkowy('stopka niemiecka')}" />
                    </p:panelGrid>
                </p:panel>
              </p:outputPanel>
              </h:form>
        </p:tab>
</ui:composition>   

