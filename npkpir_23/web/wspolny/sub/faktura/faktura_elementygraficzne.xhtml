<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions">
      <p:tab id="grafika1" title="Dodatkowe elementy graficzne">
          <h:form id="formelementygraficznea">
              <p:panel header="aktualne plik graficzny" id="panelgrafika">
                  <p:graphicImage value="#{fakturaelementygraficzneView.aktualnyelementgraficzny}" 
                                  height="#{fakturaelementygraficzneView.elementgraficznywysokosc}" width="#{fakturaelementygraficzneView.elementgraficznyszerokosc}"  rendered="#{fakturaelementygraficzneView.aktualnyelementgraficzny ne ''}"/><br/>
                  <h:outputText value="Brak pliku z logiem firmy w bazie danych" rendered="#{fakturaelementygraficzneView.aktualnyelementgraficzny eq ''}"/>
                  <p:commandButton value="Usuń z bazy" style="width: 120px;" actionListener="#{fakturaelementygraficzneView.usunelementgraficzny()}"
                                   rendered="#{fakturaelementygraficzneView.aktualnyelementgraficzny ne ''}" update="@form"/>
                </p:panel>
                <p:panel header="Wczytaj plik graficzny, który będzie umieszczony na fakturze jako dodatkowa grafika"/>
                <p:fileUpload chooseIcon="fa fa-upload" listener="#{fakturaelementygraficzneView.zachowajZaladowanaGrafike}" 
                                mode="advanced" dragDropSupport="true" fileLimit="3"
                                update="messages1" sizeLimit="200000"  
                                validatorMessage="Nieprawidłowy typ pliku" invalidFileMessage="Nieprawidłowy typ pliku" invalidSizeMessage="Plik za duży"
                                fileLimitMessage="Można załadować tylko jeden plik na jedno ładowanie"
                                uploadLabel="Wczytaj" label="Wybierz" cancelLabel="Rezygnuj" 
                                style="height: 200px;">
                </p:fileUpload>
                <p:growl life="3600"  id="messages1" showDetail="true"/>
            </h:form>
            <h:form id="formelementygraficznea2">
                <p:panelGrid layout="tabular">
                    <f:facet name="header">
                        <p:row>
                            <p:column>
                                <h:outputText value="szerokość w px"/>
                            </p:column>
                            <p:column>
                                <h:outputText value="wysokość w px"/>
                            </p:column>
                        </p:row>
                    </f:facet>
                        <p:row>
                            <p:column>
                                <p:inputNumber value="#{fakturaelementygraficzneView.elementgraficznyszerokosc}" decimalPlaces="0"/>
                            </p:column>
                            <p:column>
                                <p:inputNumber value="#{fakturaelementygraficzneView.elementgraficznywysokosc}" decimalPlaces="0"/>
                            </p:column>
                        </p:row>
                    
                </p:panelGrid>
                <p:commandButton value="zapisz wymiary" global="false" actionListener="#{fakturaelementygraficzneView.zapiszwymiaryelementgraficzny}" 
                                 update="akordeon:formwzor akordeon:formelementygraficznea"/>
            </h:form>
        </p:tab>
</ui:composition>   

