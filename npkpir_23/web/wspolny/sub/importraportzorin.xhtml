<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace"
        
    xmlns:bcf="http://brzaskun.com/facelets" xmlns:pe="http://primefaces.org/ui/extensions">
    
   <h:form id="form_raportzorin">
       
            <p:panelGrid layout="tabular" columns="2" columnClasses="sixty-percent forty-percent" >
                    <p:panelGrid layout="tabular" columns="1" style="margin-top: 20px;">
                        <h:outputText value="Akceptowana wersja pliku xml" style="font-weight: bold;"/>
                        <p:fileUpload chooseIcon="fa fa-upload" listener="#{importRaportZorinView.zachowajplik}" 
                                      mode="advanced" dragDropSupport="true" multiple="true" sequential="true" auto="true"
                                      update="messages2 panelprzyciskow akordeon5:form_importinterpaper panelplik:rodzajrach" 
                                      invalidSizeMessage="Plik za duży" allowTypes="/(\.|\/)(csv|xls|xml|xlsx)$/" invalidFileMessage="Niewłaściwy format pliku: "
                                      uploadLabel="Wczytaj" label="Wybierz" cancelLabel="Rezygnuj" 
                                      style="height: 90px;"> 
                        </p:fileUpload>
                        <p:growl life="3600"  id="messages2" showDetail="false"/>
                    </p:panelGrid>
            </p:panelGrid>
        </h:form>
        <h:form id="transferxlszorin">
            <p:outputPanel style="padding: 10px;" id="wiadomosci">
                <p:outputLabel for="ilefaktur" value="ilość faktur w pliku:"/>
                <h:outputText id="ilefaktur" value="#{importRaportZorinView.ilefaktur}" style="margin-left: 30px;"/>
            </p:outputPanel>
            <p:panelGrid layout="tabular" columns="1">
<!--                nie ma update bo jest ajax false!!!-->
                <p:commandButton value="pobierz dane" actionListener="#{importRaportZorinView.raport()}" style="width: 120px;" ajax="false" onclick="concoff(9000);setTimeout(function(){ rj('transferxlszorin:buton2').click() }, 12000)"  />
                <p:commandButton id="buton2" value="pobierz dane"  style="display: none" update="transferxlszorin:wiadomosci"/>
            </p:panelGrid>
            
        </h:form>  
 
</ui:composition>   

