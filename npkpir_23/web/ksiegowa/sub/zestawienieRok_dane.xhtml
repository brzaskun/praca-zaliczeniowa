<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:ft="http://primefaces.prime.com.tr/facestrace">


    <p:tab id="archiwum" title="Dane zbiorcze"  rendered="#{WpisView.ryczalt0ksiega1}" >
        <h:form id="formarchiwum">
            <p:panelGrid layout="tabular" id="zestawienieroczne" columns="12" style="max-width: 1150px;">
                <p:dataTable lazy="false"   var="wpis" value="#{kolmn.kolumnZest}" id="dokumentyLista" > 
                    <p:column headerText="kolumny" id="przychsprz">  
                        <h:outputText value="#{wpis}" style="#{wpis eq 'razem przych.' ? 'color: red' : wpis eq 'razem koszty' ? 'color: blue' : null }"/>
                    </p:column>
                </p:dataTable>

                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wstyczen}" id="dokumentystyczen" > 
                    <p:column headerText="styczeń" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wluty}" id="dokumentyluty" > 
                    <p:column headerText="luty" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wmarzec}" id="dokumentymarzec" > 
                    <p:column headerText="marzec" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wkwiecien}" id="dokumentykwiecien"> 
                    <p:column headerText="kwiecień" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wmaj}" id="dokumentymaj" > 
                    <p:column headerText="maj" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wczerwiec}" id="dokumentyczerwiec" > 
                    <p:column headerText="czerwiec" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wIpolrocze}" id="dokumentyIpolrocze" style="width: 150;"> 
                    <p:column headerText="I półrocze" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
               
                <p:selectOneMenu id="podatnikWpisu" value="#{zestawienieView.wybranacechadok}" style="width: 180px;" converter="#{cechaConv}">
                    <f:selectItem itemLabel="wybierz cechę" itemValue="" noSelectionOption="true"/>
                    <f:selectItems value="#{zestawienieView.pobranecechypodatnik}"  var="pc" itemValue="#{pc}" itemDescription="#{pc.nazwacechy}" itemLabel="#{pc.nazwacechy}"/>
                    <p:ajax event="change" listener="#{zestawienieView.init()}" update="@form"/>
                </p:selectOneMenu>
                 <h:outputText value=""/><h:outputText value=""/><h:outputText value=""/>
                <p:dataTable lazy="false"   var="wpis" value="#{kolmn.kolumnZest}" id="dokumentyLista1" > 
                    <p:column headerText="kolumny" id="przychsprz">  
                        <h:outputText value="#{wpis}" style="#{wpis eq 'razem przych.' ? 'color: red' : wpis eq 'razem koszty' ? 'color: blue' : null }"/>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wlipiec}" id="dokumentylipiec" > 
                    <p:column headerText="lipiec" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>

                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wsierpien}" id="dokumentysierpien" > 
                    <p:column headerText="sierpień" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>

                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wwrzesien}" id="dokumentywrzesien" > 
                    <p:column headerText="wrzesień" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wpazdziernik}" id="dokumentypazdziernik" > 
                    <p:column headerText="pazdziernik" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wlistopad}" id="dokumentylistopad" > 
                    <p:column headerText="listopad" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wgrudzien}" id="dokumentygrudzien" > 
                    <p:column headerText="grudzień" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wIIpolrocze}" id="dokumentyIIpolrocze"  style="width: 150;"> 
                    <p:column headerText="II półrocze" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>
                <h:outputText value=""/>
                <p:dataTable lazy="false"   var="wpis" value="#{kolmn.kolumnZest}" id="dokumentyLista2" > 
                    <p:column headerText="kolumny" id="przychsprz">  
                        <h:outputText value="#{wpis}" style="#{wpis eq 'razem przych.' ? 'color: red' : wpis eq 'razem koszty' ? 'color: blue' : null }"/>
                    </p:column>
                </p:dataTable>
                <p:dataTable lazy="false"   var="wpis" value="#{zestawienieView.wrok}" id="dokumentyrok"  style="width: 150;"> 
                    <p:column headerText="rok" id="idColumn">  
                        <h:outputText value="#{wpis}" style="float: right;">
                            <f:convertNumber maxFractionDigits="2"
                                             groupingUsed="true"
                                             currencySymbol=""
                                             maxIntegerDigits="9"
                                             type="currency"/>
                        </h:outputText>
                    </p:column>
                </p:dataTable>


            </p:panelGrid>
        </h:form>
        <div style="margin-top: 15px;">
            <h:form id="formwysylka" rendered="#{WpisView.ryczalt0ksiega1}">
                <p:commandButton  value="Zachowaj w pdf" actionListener="#{sesjaView.dodajwydruk()}" action="#{zestawienieView.drukujPodsumowanieRoczne()}" >
                </p:commandButton>
                <p:commandButton id="zestawieniewysylka" value="Wyślij podatnikowi" 
                                 style="display: none; margin-left: 50px;" actionListener="#{ksiegaView.mailpkpir()}" >
                    <p:ajax event="click" listener="#{sesjaView.dodajmail()}"/>
                    <p:confirm type="popup" header="Wysyłanie zestawienia" message="Wysłac do podatnika?" icon="pi pi-question-circle" /> 
                </p:commandButton>
            </h:form>
        </div>
    </p:tab>
</ui:composition>   

